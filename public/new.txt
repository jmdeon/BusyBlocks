
          var googleCalendarID = userQuery[0].get("googleCalendarID");
          if( googleCalendarID){
            dataBaseService.queryGoogleCalendar(googleCalendarID).then(function(newCal){
              googleCalQueriesLeft--;
              var tempSched = [];
              for (indexInner = 0; indexInner < newCal.length; indexInner++){
                var startTime = newCal.items[index].start.dateTime;
                var endTime = newCal.items[index].end.dateTime;
                if(startTime && endTime){
                  var newEvent = {
                    textColor: 'white',
                    title: newCal.items[index].summary + "\nGoogle Calendar",
                    id: 9,
                    start: startTime,
                    end: endTime,
                    color: 'green'
                  }
                  tempSched.push(newEvent);
                }
              } // end inner for
              memberEventArray.push(tempSched);
              if(googleCalQueriesLeft === 0 && queriesLeft === 0){
                  deferred.resolve(memberEventArray);
              }
            })
          }
          else{
              googleCalQueriesLeft--;
              if(googleCalQueriesLeft === 0 && queriesLeft === 0){
                  deferred.resolve(memberEventArray);
              }
          }

