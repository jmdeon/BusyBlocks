<html ng-app = "myApp" ng-controller="ProfileController">
    <!-- initialize values for controlling views 
    <div ng-init="groupView=false;profileView=true;singleGroupView=false;homeView=true"> 
    </div> -->
    <!-- We are using a different controller here. The student controller
         is like the student class for our purposes -->
    <head>
        <!-- Information about the document goes here
             This includes the encoding, title, css files, and JS files -->
        <link rel="stylesheet" type="text/css" href="./style.css">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0">	
        <title>Scheduling App</title>

        <!-- Get access to the Angular UI BootStrap libraries -->
        <script type="text/javascript" src="js/ui-bootstrap-tpls-0.13.0.js"></script>

        <!-- Get access to the Parse libraries -->
		<script type="text/javascript" src="https://www.parsecdn.com/js/parse-1.1.14.min.js"></script>

        <!-- Get access to the AngularJS library -->
    	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

        <!--First Modules -->
        <script src="js/shared/Schedule.js"></script>
        <!-- Modules -->
        <script src="js/app.js"></script>
        <!-- Controllers -->
		    <script src="js/controllers/ProfileController.js"></script>
        <script src="js/controllers/GroupController.js"></script>

        <!-- Inline JS goes here -->
        <script> 
            /** Global variables **/
            Parse.initialize( "t5hvXf3wJOYnL3MMIffsemMdhLM7f4brACcf0eBa", "UhqQaEDIEQr6cxhO8XS4Fl8BcGU4ir9jL9To7PVO" );
            var currentUser = Parse.User.current();
            if (currentUser) {
            // do stuff with the user
              

            } 
            else {
            // show the signup or login page
              location.href = "login/login.html";
            }
            

            /* this is how to create a new schedule */
            var sched = new Schedule();
            /* this is how to add events */
            sched.addEvent(0, new Event(0, "EventOne", 3, 4, new Date(), new Date(),false));
            sched.addEvent(0, new Event(0, "EventTwo", 5, 7, new Date(), new Date(),false));
            sched.addEvent(0,new Event(0, "JoeIsKing", 1, 12, new Date(), new Date(),false));
            console.log(sched); //check out the console if you want to see the result

            
        </script>
        
    </head>
    
    <body>

        <div id="logoutWrapper">
            <div ng-click="logout()" class="logoutbtn" ng-show="homeView"></div>
            <div id="greeting">Hi, {{ userName }}</div>
            <center>
                <div ng-click="profileView = true; groupView = false; singleGroupView = false" class="viewBtn">Profile</div>
                <div ng-click="groupView = true; profileView = false; singleGroupView = false" class="viewBtn">Groups</div>
            </center>
        </div>
    
        <div id="homeView" ng-init="homeView = true" ng-show="homeView">     
        	<div ng-init="profileView = true" ng-show = "profileView" id="profileView">
            	<div id="profileWrapper">
                	<center>
					<!--<p>You have been a member since {{ joinDate | date }}.</p>-->
                	</center>
                	<p id="yourSched">Your Schedule</p>
                	<p id="createTitle">Create Event</p>
                	<div class="schedule">
                    	<p>Schedule</p>
                	</div>
                	<div class="createEvent">Create Event</div>
            	</div>
        	</div>           
        	<div ng-init="groupView = false" ng-show = "groupView" id="groupView">
            	<div>
                	<p>This is used to test functionality regarding showing groups</p>
                	<p>You are in: {{ numberOfGroups }} Groups!</p>
                	<input type="text" ng-model="newGroupName" placeholder="Group Name">
                	<br><br>
                	<div ng-click = "createGroup()" class="btn2" style="margin-top:10px;">Add One Group</div>
                	<div ng-click = "removeAllGroups()" class="btn2" style="margin-top:10px;">Remove All Groups</div>
                	<ul>
                    	<div ng-repeat="x in myGroupList" class ="btn2" ng-click = "$parent.profileView = false; $parent.groupView = false; $parent.singleGroupView = true; setCurrentGroupId(x.id); addGroupId()"> {{ x.name }}</div>
                	</ul>
                	<div ng-controller="ButtonsCtrl">
                		<button type="button" class="btn btn-primary" ng-model="singleModel">
                			Add New Group
                		</button>
                	</div>
            	</div>
        	</div>
            <div ng-init="singleGroupView = false" id="singleGroupView" ng-if="singleGroupView">
            <div ng-controller= "GroupController">
                <p>{{ groupName }}</p>
                <div ng-click = "" class="btn2"> Back to Groups.</div>
            </div>
        </div>
        </div>    
        <!-- This is the div for a specific group -->
    </body>
</html>