<html ng-app = "myApp" ng-controller="ProfileController">
    <!-- We are using a different controller here. The student controller
         is like the student class for our purposes -->
    <head>
        <!-- Information about the document goes here
             This includes the encoding, title, css files, and JS files -->
        <link rel="stylesheet" type="text/css" href="./style.css">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0">	
        <title>Scheduling App</title>

        <!-- Get access to the Parse libraries -->
		<script type="text/javascript" src="https://www.parsecdn.com/js/parse-1.1.14.min.js"></script>

        <!-- Get access to the AngularJS library -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

        <!--First Modules -->
        <script src="js/shared/Schedule.js"></script>
        <!-- Modules -->
        <script src="js/app.js"></script>
        <!-- Controllers -->
		    <script src="js/controllers/ProfileController.js"></script>

        <!-- Inline JS goes here -->
        <script> 
            /** Global variables **/
            Parse.initialize( "t5hvXf3wJOYnL3MMIffsemMdhLM7f4brACcf0eBa", "UhqQaEDIEQr6cxhO8XS4Fl8BcGU4ir9jL9To7PVO" );
            var currentUser = Parse.User.current();
            if (currentUser) {
            // do stuff with the user
              

            } 
            else {
            // show the signup or login page
              location.href = "login/login.html";
            }
            
            var sched = new Schedule();
            sched.addEvent(new Event("WHAT", 3, 4, new Date(), new Date(),false), 0);
            sched.addEvent(new Event("WHAT", 5, 7, new Date(), new Date(),false), 0);
            sched.addEvent(new Event("WHAT", 1, 12, new Date(), new Date(),false), 0);
            console.log(sched);

        </script>
        <div id="logoutWrapper">
                <div ng-click= "logout()" class="btn">Log Out</div>
        </div>
    </head>
    <body>
        <div>
      <!-- These buttons serve as a proof of concept for switching between the two primary views. -->
          <form>
            <div ng-click = "toggleProfileView()" class="btn" style="margin-top:10px;">Profile</div>
            <div ng-click = "toggleGroupView()" class="btn" style="margin-top:10px;">Groups</div>
          </form>
        </div>

      <div id="profileView" ng-show="profileView">
        <div >
          <!-- This is an example of the view being filled with the model -->
          <p>Welcome {{ userName }}. </p>
          <!-- This is an example of using a filter!     -> v <- thats a pipe  -->
          <p>You have been a member since {{ joinDate | date }}. </p>
        </div>
      </div>
      <div id="groupView" ng-show="groupView">
        <div >
          <p>This is used to test functionality regarding showing groups</p>
          <p>You are in: {{ numberOfGroups }} Groups!</p>
          <input type="text" ng-model="newGroupName" placeholder="Group Name"><br><br>
          <input type="text" ng-model="newFriendEmail" placeholder="Friends Email"><br><br>
          <div ng-click = "addGroup()" class="btn2" style="margin-top:10px;">Add One Group</div>
           <div ng-click = "removeAllGroups()" class="btn2" style="margin-top:10px;">Remove All Groups</div>
          <ul>
            <li ng-repeat="x in userParticipatedGroups track by $index">{{ x }}</li>
          </ul>
        </div>
      </div>


    </body>


</html>
