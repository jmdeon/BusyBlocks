<html ng-app="myApp" style="background:#FCFAF8;">
    <head style="background: #FCFAF8;">
        <!-- Information about the document goes here. This includes the encoding, title, css files, and JS files -->
        <link rel="stylesheet" type="text/css" href="./style.css">
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.9.0/angular-material.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700,400italic">
        <link rel="stylesheet" media="all" type="text/css" href="./lib/bower_components/loadingBar/src/loading-bar.css">
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0">	

        <!-- Get access to the Parse library -->
		<script type="text/javascript" src="https://parse.com/downloads/javascript/parse-1.4.2.js"></script>

        <!-- Load UI Calendar sources -->
        <link rel="stylesheet" href="lib/bower_components/fullcalendar/dist/fullcalendar.css"/>

        <!-- jquery, moment, and angular have to get included before fullcalendar -->
        <script type="text/javascript" src="lib/bower_components/jquery/dist/jquery.js"></script>
        <script type="text/javascript" src="lib/bower_components/moment/moment.js"></script>
        <script type="text/javascript" src="lib/moment-recur.min.js"></script>
        <script type="text/javascript" src="lib/bower_components/angular/angular.js"></script>
        <script type="text/javascript" src="lib/bower_components/angular-ui-calendar/src/calendar.js"></script>
        <script type="text/javascript" src="lib/bower_components/fullcalendar/dist/fullcalendar.js"></script>
        <script type="text/javascript" src="lib/bower_components/loadingBar/src/loading-bar.js"></script>
        
        <!-- Load BootStrap -->
        <script type="text/javascript" src="lib/ui-bootstrap-tpls-0.13.0.min.js"></script>

        <!-- Modules -->
        <script src="components/app.js"></script>
        <!-- Controllers -->
    	<script src="components/profile/ProfileController.js"></script>
        <script src="components/profile/AddFriendController.js"></script>
        <script src="components/profile/EditGroupController.js"></script>
        <script src="components/profile/FriendListController.js"></script>
        <script src="components/profile/AddGroupController.js"></script>
        <script src="components/profile/AccountSettingsController.js"></script>
        <script src="components/group/GroupController.js"></script>
        <script src="components/group/GroupInfoController.js"></script>
        <script src="components/group/AddMemberController.js"></script>
        <script src="components/shared/EditEventController.js"></script>

        <!-- Services -->
        <script src="components/profile/userService.js"></script>
        <script src="components/group/groupService.js"></script>
        <script src="components/shared/googleCalendarService.js"></script>
        <script src="components/shared/dataBaseService.js"></script>
        <script src="components/shared/eventService.js"></script>

        <!-- Inline JS goes here -->
        <script> 
            /** Global variables **/
            Parse.initialize( "t5hvXf3wJOYnL3MMIffsemMdhLM7f4brACcf0eBa", "UhqQaEDIEQr6cxhO8XS4Fl8BcGU4ir9jL9To7PVO" );
            var currentUser = Parse.User.current();
            if (currentUser) {
            	// do stuff with the user
            } 
            else {
            	// show the signup or login page
            	location.href = "components/login/login.html";
            }
        </script> 

        <!-- TITLE -->
        <title>Busy Blocks</title>
    </head>
    
    <body style="background: #FCFAF8;">
        <div ng-if="false">
 
    <div id = "loading">
    </div>
</div>
      <!-- PROFILE CONTROLLER -->
      <div ng-controller="ProfileController"> 

        <div id="logoutWrapper">
            <div class="btn-group" dropdown>
                <div class="logoutbtn" ng-show="homeView" dropdown-toggle></div>
                    <ul class="dropdown-menu dropdown-menu-right" role="menu">
                        <li><a ng-click="accountSettingsModal();">Account Settings</a></li>
                        <li ng-show="singleGroupView"><a ng-click="groupInfoModal()">Group Info</a></li>
                        <li class="divider"></li>
                        <li><a ng-click="logout()">Logout</a></li>
                    </ul>
            </div>
            
            <div class="btn-group" dropdown>
                <div class = "friendsOptionsBtn" ng-show="homeView" dropdown-toggle></div>
                    <ul class="dropdown-menu dropdown-menu-right" role="menu">
                        <li><a ng-click="addFriendModal()">Add Friend</a></li>
                        <li><a ng-click="friendListModal()">View Friends List</a></li>
                    </ul>
            </div>
            
            <div id="greeting">Hi, {{ userName }}</div>
            <center>
                <div ng-click="profileView=true; groupView=false; $parent.singleGroupView=false" ng-class="{selTab: profileView}" class="viewBtn">Personal</div>
                <div ng-click="groupView=true; profileView=false; $parent.singleGroupView=false" ng-class="{selTab: groupView}" class="viewBtn">Groups</div>
                <div ng-hover="" ng-click="profileView=false; groupView=false; $parent.singleGroupView=true;" class="viewBtn" ng-class="{selTab: $parent.singleGroupView}" ng-hide="!singleGroupName">
                    {{ singleGroupName | limitTo:8 }}{{ singleGroupName.length > 8 ? '...' : '' }}
                </div>
            </center>
        </div>
    
        <div id="homeView" ng-init="homeView=true" ng-show="homeView">     
        	<div ng-init="profileView=true" ng-show="profileView" id="profileView">
            	<div id="profileWrapper">
                    <div id="scheduleWrapper">
                        <p id="yourSched">Your Schedule</p>
                
                        <div class="schedule card">
                            <!-- UI CALENDAR -->
                            <div  ng-model="eventSources" calendar='userCalendar' calendar-watch-event="color" ui-calendar="uiConfig.calendar"></div>
                        </div>
                    </div>
                    
                    <div id="createWrapper">
                        <p id="createTitle">Create Personal Event</p>
                        <div class="createEvent card">
                            <input placeholder="Event Name" type="text" name="pEventName" class="eventPar" ng-model="newEventName">
                            <br><br>

                            <div ng-controller="PopoverInstanceCtrl">
                                <center><button Popover-animation="true" popover-template="repDays.templateUrl" popover-placement="top" class="btn btn-default" popover-title="Select Repeating Days">Set Repeating</button></center>
                                <script type="text/ng-template" id="repDays.html">
                                    <div class="repDays">
                                        <label class="btn btn-primary" ng-model="dayRepeat.monday" btn-checkbox>Mon</label><label class="btn btn-primary" ng-model="dayRepeat.tuesday" btn-checkbox>Tue</label><label class="btn btn-primary" ng-model="dayRepeat.wednesday" btn-checkbox>Wed</label><label class="btn btn-primary" ng-model="dayRepeat.thursday" btn-checkbox>Thu</label><label class="btn btn-primary" ng-model="dayRepeat.friday" btn-checkbox>Fri</label><label class="btn btn-primary" ng-model="dayRepeat.saturday" btn-checkbox>Sat</label><label class="btn btn-primary" ng-model="dayRepeat.sunday" btn-checkbox>Sun</label>
                                    </div>
                                </script>
                            </div>
                            <br>

                            <p>Start Date: <input  ng-init="eventStartDate=Date()" name="pStartDate" type="date" class="eventPar" ng-model="eventStartDate"></p>
                            
                            <br>
                            
                            <p>End Date: <input ng-init="eventEndDate=Date()" for="pEndDate" type="date" class="eventPar" ng-model="eventEndDate">
                            
                            <br>

                            <p>Start Time: </p>
                            <center><timepicker ng-init ="eventStartTime" ng-model="eventStartTime" ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker></center>

                            <p>End Time: </p>
                            <center><timepicker ng-init ="eventEndTime"  ng-model="eventEndTime" ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker></center>
                            <br>
                            
                            <div ng-controller="PopoverInstanceCtrl">
                                <center><button Popover-animation="true" popover-template="'eventColorSelect.html'" popover-placement="top" class="btn btn-default" ng-style="{'background':eventColor.mine}" ng-init="eventColor.mine='#fff'" popover-trigger="focus" popover-title="Select Color" class="colorFade">Choose A Color</button></center> 
                            </div>
                            <br>
                            <div ng-click="createEvent()" class="createButton" style="margin-top:10px;">Create</div>
                        </div>
                    </div>
            	</div>
        	</div>
            
        	<div ng-init="groupView=false" ng-show="groupView" id="groupView">
            	<div>
                    <div ng-repeat="group in myGroupList track by $index" class ="groupSelect card"  
                       ng-style="{background:group.color}">
                        <div id = "groupClick"
                             ng-click="$parent.profileView=false; 
                              $parent.groupView=false; 
                              $parent.$parent.singleGroupView=true; 
                              $parent.currentGroupId = group.id; 
                              $parent.currentGroupColor = group.color;
                              addGroup(); $parent.updateSingleGroupTab(group.name)" ng-attr-title="{{ group.name }}">
                            <p>{{ group.name | limitTo:12 }}{{ group.name.length > 12 ? '...' : '' }}</p>
                        </div>
                        <div ng-controller="PopoverInstanceCtrl">
                            <div ng-click="editGroupModal(group.name, group.color)" id="pencil"></div> 
                            <div Popover-animation="true" popover-template="confirmRemove.templateUrl" popover-trigger="focus"  
                                 popover-placement="top" id="minus" popover-title="Confirm Remove" tabindex="0"></div>
                            <script type="text/ng-template" id="confirmRemove.html">
                                <button class="btn btn-danger" ng-click="removeGroup(group.id);">Delete</button>
                            </script>
                        </div>
                    </div>

                    <div ng-click="addGroupModal()" id="addGroupBtn"></div>
            	</div>
        	</div>
        </div> 
      </div> <!--END PROFILE CONTROLLER -->
        <!-- GROUP CONTROLLER -->
        <div class="singleGroupView" ng-init="singleGroupView=false" ng-show="singleGroupView">
            <div id="profileWrapper" ng-controller="GroupController">
                <div style="clear:both;">
                    <div id="scheduleWrapper" style="top:0;">
                        <p id="yourSched">{{groupName}}'s Schedule</p>
                        <div class="schedule card">
                            <!-- group UI CALENDAR -->
                            <div  ng-model="eventSources" calendar='groupCalendar' ui-calendar="uiConfig.calendar"  ></div> 
                        </div>
                    </div>
                
                    <div id="createWrapper" style="top:0px;">
                        <p id="createTitle">Create Group Event</p>
                        <div class="createEvent card">
                            <input type="text" placeholder="Event Name" name="pEventName" class="eventPar" ng-model="newEventName">
                            <br><br>

                            <div ng-controller="PopoverInstanceCtrl">
                                <center>
                                    <button Popover-animation="true" popover-template="repDays.templateUrl" popover-placement="bottom" class="btn btn-default" popover-title="Select Repeating Days">Set Repeating</button>
                                </center>
                                <script type="text/ng-template" id="repDays.html">
                                    <div class="repDays">
                                    <label class="btn btn-primary" ng-model="dayRepeat.monday" btn-checkbox>Mon</label>
                                    <label class="btn btn-primary" ng-model="dayRepeat.tuesday" btn-checkbox>Tue</label>
                                    <label class="btn btn-primary" ng-model="dayRepeat.wednesday" btn-checkbox>Wed</label>
                                    <label class="btn btn-primary" ng-model="dayRepeat.thursday" btn-checkbox>Thu</label>
                                    <label class="btn btn-primary" ng-model="dayRepeat.friday" btn-checkbox>Fri</label>
                                    <label class="btn btn-primary" ng-model="dayRepeat.saturday" btn-checkbox>Sat</label>
                                    <label class="btn btn-primary" ng-model="dayRepeat.sunday" btn-checkbox>Sun</label>
                                    </div>
                                </script>
                            </div>
                            <br>

                            <p>Start Date: <input  ng-init="eventStartDate=Date()" name="pStartDate" type="date" class="eventPar" ng-model="eventStartDate"></p>
                            
                            <br>
                            
                            <p>End Date: <input ng-init="eventEndDate=Date()" for="pEndDate" type="date" class="eventPar" ng-model="eventEndDate"></p>
                            
                            <br>

                            <p >Start Time</p>
                            <!-- <input ng-init="eventStartTime = Date()" type="time" class="eventPar" ng-model="eventStartTime"> --> 
                            <center><timepicker ng-init ="eventStartTime" ng-model="eventStartTime" ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker></center>

                            <p >End Time</p>
                            <!-- <input ng-init="eventEndTime = Date(1)"  type="time" class="eventPar" ng-model="eventEndTime"> -->
                            <center><timepicker ng-init ="eventEndTime" ng-model="eventEndTime" ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker></center>
                            
                            <div ng-click="createEvent()" class="createButton" style="margin-top:10px;">Create</div>
                        </div>
                        <span style="float:left;clear:both;"><strong>Group Code: </strong></span><br>
                        <p style="float:left;clear:both;">{{currentGroupId}}</p> 
                        <button ng-click="addMemberModal()">Add Member</button>
                    </div> 
                </div>
            </div>
        </div>

        <!--
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   HTML TEMPLATES
        *   ----------------
        *   These are templates for various controllers to use. Modals and 
        *   popovers use these.
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        *   -------------------------------------------------------------
        -->

        <script type="text/ng-template" id="eventEditColorSelect.html">
            <div id="groupColorSelect">
                <div style="background:#B9F5FF;" ng-click="myEvent.color='#B9F5FF'"></div>
                <div style="background:#B5FBA3;" ng-click="myEvent.color='#B5FBA3'"></div>
                <div style="background:#FFA6B1;" ng-click="myEvent.color='#FFA6B1'"></div>
                <div style="background:#FEC12F;" ng-click="myEvent.color='#FEC12F'"></div>
                <div style="background:#F06292;" ng-click="myEvent.color='#F06292'"></div>
                <div style="background:#CE93D8;" ng-click="myEvent.color='#CE93D8'"></div>
                <div style="background:#9575CD;" ng-click="myEvent.color='#9575CD'"></div>
                <div style="background:#7986CB;" ng-click="myEvent.color='#7986CB'"></div>
                <div style="background:#81D4FA;" ng-click="myEvent.color='#81D4FA'"></div>
                <div style="background:#4DD0E1;" ng-click="myEvent.color='#4DD0E1'"></div>
                <div style="background:#4DB6AC;" ng-click="myEvent.color='#4DB6AC'"></div>
                <div style="background:#D4E157;" ng-click="myEvent.color='#D4E157'"></div>
                <div style="background:#FFF176;" ng-click="myEvent.color='#FFF176'"></div>
                <div style="background:#FFD54F;" ng-click="myEvent.color='#FFD54F'"></div>
                <div style="background:#FFA726;" ng-click="myEvent.color='#FFA726'"></div>
                <div style="background:#FD8964;" ng-click="myEvent.color='#FD8964'"></div>
                <div style="background:#BDBDBD;" ng-click="myEvent.color='#BDBDBD'"></div>
                <div style="background:#90A4AE;" ng-click="myEvent.color='#90A4AE'"></div>
                <br>
            </div>
        </script>

        <script type="text/ng-template" id="eventColorSelect.html">
            <div id="groupColorSelect">
                <div style="background:#B9F5FF;" ng-click="eventColor.mine='#B9F5FF'"></div>
                <div style="background:#B5FBA3;" ng-click="eventColor.mine='#B5FBA3'"></div>
                <div style="background:#FFA6B1;" ng-click="eventColor.mine='#FFA6B1'"></div>
                <div style="background:#FEC12F;" ng-click="eventColor.mine='#FEC12F'"></div>
                <div style="background:#F06292;" ng-click="eventColor.mine='#F06292'"></div>
                <div style="background:#CE93D8;" ng-click="eventColor.mine='#CE93D8'"></div>
                <div style="background:#9575CD;" ng-click="eventColor.mine='#9575CD'"></div>
                <div style="background:#7986CB;" ng-click="eventColor.mine='#7986CB'"></div>
                <div style="background:#81D4FA;" ng-click="eventColor.mine='#81D4FA'"></div>
                <div style="background:#4DD0E1;" ng-click="eventColor.mine='#4DD0E1'"></div>
                <div style="background:#4DB6AC;" ng-click="eventColor.mine='#4DB6AC'"></div>
                <div style="background:#D4E157;" ng-click="eventColor.mine='#D4E157'"></div>
                <div style="background:#FFF176;" ng-click="eventColor.mine='#FFF176'"></div>
                <div style="background:#FFD54F;" ng-click="eventColor.mine='#FFD54F'"></div>
                <div style="background:#FFA726;" ng-click="eventColor.mine='#FFA726'"></div>
                <div style="background:#FD8964;" ng-click="eventColor.mine='#FD8964'"></div>
                <div style="background:#BDBDBD;" ng-click="eventColor.mine='#BDBDBD'"></div>
                <div style="background:#90A4AE;" ng-click="eventColor.mine='#90A4AE'"></div>
                <br>
            </div>
        </script>

        <script type="text/ng-template" id="addFriend.html">
            <div class="modal-header">
                <h3 class="modal-title">Add a Friend</h3>
            </div>
            <div class="modal-body">
            	<p>Friend&#39;s Email</p>
            	<input ng-model="newFriend" placeholder="Enter Friend's Email" type="text">
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="ok()">OK</button>
                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>
        </script>

        <script type="text/ng-template" id="friendList.html">
            <div class="modal-header">
                <h3 class="modal-title">Your Friends</h3>
            </div>
            <div class="modal-body">
                <ul>
                    <li ng-repeat="friend in friendList track by $index">{{ friend.name }} ({{ friend.email }})</li>
                </ul>
            </div>
            <div class="modal-footer">
<!--                <button class="btn btn-primary" ng-click="ok()">OK</button>-->
                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>
        </script>

        <script type="text/ng-template" id="editMyEvent.html">
            <div>
                <div style="background-color:{{ myEvent.color}}; transition: background-color .5s;" class="modal-header">
                    <h3 class="modal-title">{{ myEvent.title }}&#39;s Details</h3>
                </div>
                <div class="modal-body">
                    <label for="startsOn">Starts On:</label>
                    <span name="startsOn"> {{ myEvent.start.format("MMMM DD, YYYY")}} at {{ myEvent.start.format("hh:mm A")}}</span>
                    <br>
                    <label for="endsOn">Ends On: </label>
                    <span name="endsOn"> {{ myEvent.end.format("MMMM DD, YYYY")}} at {{ myEvent.end.format("hh:mm A")}}</span>
                    <br><br>
                    <label for="newName">Modify Event Name: </label>
                    <input type="text" ng-model="myEvent.title" value={{myEvent.title}} name="newName" style="width:50%;">
                    <br><br>
                    <center>
                        <div ng-controller="PopoverInstanceCtrl">
                            <button Popover-animation="true" popover-template="'eventEditColorSelect.html'" popover-placement="top" class="btn btn-default" ng-style="{'background':myEvent.color}" ng-init="myEvent.color" popover-trigger="focus" popover-title="Select Color" class="colorFade">Change Color</button>
                        </div>
                    </center>
                    <br>
                    <div class="modal-footer">
                        <button class="btn btn-primary" ng-click="save();">Save</button>
                        <button class="btn btn-primary" ng-click="deleteEvent();">Delete</button>
                        <button class="btn btn-warning" ng-click="cancel()">Close</button>
                    </div>
                </div>
        </script>

        <script type="text/ng-template" id="accountSettings.html">
            <div class="modal-header">
                <h3 class="modal-title">Account Settings</h3>
            </div>
            <div class="modal-body">
                <tabset>
                    <tab heading="Profile Settings">
                        <br>
                        <center>
                            <div id="lblSuccess" ng-show="saveLabel"> Everything looks good!</div>
                            <div id="lblError" ng-show="errLabel">{{errMsg}}</div>
                        </center>
                        <label for="username" style="display:inline-block;width:150px;">User Name:</label>
                        <input style="width:50%;margin-bottom:15px;" value="{{newName}}" ng-model="newName" name="username" ng-style="(newName.length > 0) ? {'border-bottom':'1px solid green'} : {'border-bottom':'1px solid red'}" required ng-pattern="/^[a-z']([a-z'_\s])+$/i"><br>
                        <label for="email" style="display:inline-block;width:150px;">Email:</label>
                        <input style="width:50%;margin-bottom:15px;" value="{{newEmail}}" ng-model="newEmail" ng-style="(newEmail.length > 0) ? {'border-bottom':'1px solid green'} : {'border-bottom':'1px solid red'}" required ng-pattern="/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/"><br>
                        <div ng-click="editPassword()" class="btn btn-info">Change Password</div>
                        <button class="btn btn-default" ng-click="isCollapsed=!isCollapsed">User Icons</button><br><br>
                        <div collapse="isCollapsed">
                            <div class="well" id="colIcons">
                                <h4>Select a user icon</h4>
                                <div id="icons" ng-repeat="icon in icons track by $index" ng-attr-title="{{icon.name}}">
                                    <img class="selIcons" ng-src="{{icon.image}}" ng-click="setSel($event);" ng-model="newIcon" ng-init="initSelectedIcon(icon);" ng-class="{'selected': icon.selected, 'smallIcon': icon.name==='Super Hero'}"/>
                                </div>
                            </div>
                        </div>
                    </tab>
                    <tab heading="Google Calendar Settings">
                        <br>
                        <label for="google" style="display:inline-block;width:150px;">Google Calendar ID:</label>
                        <input style="width:50%;margin-bottom:15px;" value="{{newGoogleID}}" ng-model="newGoogleID" ng-style="( newGoogleID.length == 0 ) ? { 'border-bottom':'1px solid #c6c6c6' } : ((newGoogleID) ? { 'border-bottom':'1px solid green' } : { 'border-bottom':'1px solid red' })" ng-pattern="/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/" name="google" type="text"><br>
                        <accordion close-others="oneAtATime">
                            <accordion-group heading="How to Get Your Google Calendar ID">
                                <p>Make your Google Calendar public:
                                    <ol>
                                        <li>In the <a target="_blank" href="http://calendar.google.com">Google Calendar</a> interface, locate the "My calendars" area on the left.</li>
                                        <li>Hover over the calendar you need and click the downward arrow. </li>
                                        <li>A menu will appear. Click "Share this Calendar".</li>
                                        <li>Check "Make this calendar public".</li>
                                        <li>Make sure "Share only my free/busy information" is unchecked.</li>
                                        <li>Click "Save".</li>
                                    </ol>
                                    Obtain your Google Calendar ID:<br>
                                    <ol>
                                        <li>In the Google Calendar interface, locate the "My calendars" area on the left.</li>
                                        <li>Hover over the calendar you need and click the downward arrow.</li> 
                                        <li>A menu will appear. Click "Calendar settings".</li>
                                        <li>In the "Calendar Address" section of the screen, you will see your Calendar ID. It will look something like "abcd1234@group.calendar.google.com".</li>
                                    </ol>           
                                </p>
                            </accordion-group>
                        </accordion>
                    </tab>
                    <tab heading="Remove All Events">
                        <br>
                        <center>
                            <div id="lblSuccess" ng-show="remLabel">All events have been removed! Click the close button to see!</div>
                        </center>
                        <p>Please type "Clear my events!" below:</p>
                        <input type="text" ng-model="clearEvents" ng-pattern="'Clear my events!'" placeholder="Clear my events!" ng-init="clearEvents=''" ng-style="( clearEvents.length == 0 ) ? { 'border-bottom':'1px solid #c6c6c6' } : ( (clearEvents) ? { 'border-bottom':'1px solid green' } : { 'border-bottom':'1px solid red' } )">
                        <br><br>
                        <center>
                            <button class="btn btn-danger" ng-click="removeAllEvents()" ng-disabled="!clearEvents">Remove All Personal Events</button>
                        </center>
                        <br>
                    </tab>
                </tabset>
            </div>
            <div class="modal-footer">
                <button class="btn btn-success" ng-click="saveSettings();">Update Profile</button>
                <button class="btn btn-warning" ng-click="cancel()">Close</button>
            </div>
        </script>

        <script type="text/ng-template" id="groupInfo.html">
                <div ng-controller="GroupController">
                    <div style="background-color:{{ groupColor }}" class="modal-header">
                        <h3 class="modal-title">{{ groupName }}</h3>
                    </div>
                    <div class="modal-body">
                        <h4><b>Group Code:</b> {{currentGroupId}}</h4>
                        <h3>Members</h3>
                        <div style="overflow-y:scroll;height:150px;">
                            <div class="members" ng-repeat="member in memberList track by $index">
                                <img class="memberIcon" ng-src="{{member.icon}}" ng-init="getMemberIcon(member.email);"
                                     ng-class="{'smallIcon': member.icon === 'images/userIcon.png'}"/>
                                <p text-align="center">{{member.name}}</p>
                            </div>
                            <div id="addMemberBtn" ng-click="addMemberModal()"></div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-warning" ng-click="cancel()">Close</button>
                    </div>
                </div>
            </div>
        </script>

        <script type="text/ng-template" id="addMember.html">
                <div class="modal-header">
                    <h3 class="modal-title">Add a Member</h3>
                </div>
                <div class="modal-body">
                    <input type="text" ng-model="newMemberEmail" placeholder="Add New Member Email"> 
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" ng-click="save()">Add Member</button>
                    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                </div>
            </div>
        </script>

        <script type="text/ng-template" id="editGroup.html">
            <div>
                <div class="modal-header" style="background:{{ newGroupColor }};transition: background 0.5s;">
                    <h3 class="modal-title">Edit {{newGroupName}}</h3>
                </div>
                <div class="modal-body">
                    <label for="newName">New Group Name: </label>
                    <input type="text" ng-model="newGroupName" value="{{newGroupName}}" name="newName" style="width:50%;" ng-style="(newGroupName.length > 0) ? {'border-bottom':'1px solid green'} : {'border-bottom':'1px solid red'}">
                    <input type="hidden" ng-model="newGroupColor">
                    <br><br>
                    <label for="groupSelColor">Select a Color</label>

                    <div id="groupColorSelect" name="groupSelColor">
                        <div style="background:#B9F5FF;" ng-click="newGroupColor='#B9F5FF'"></div>
                        <div style="background:#B5FBA3;" ng-click="newGroupColor='#B5FBA3'"></div>
                        <div style="background:#FFA6B1;" ng-click="newGroupColor='#FFA6B1'"></div>
                        <div style="background:#FEC12F;" ng-click="newGroupColor='#FEC12F'"></div>
                        <div style="background:#F06292;" ng-click="newGroupColor='#F06292'"></div>
                        <div style="background:#CE93D8;" ng-click="newGroupColor='#CE93D8'"></div>
                        <div style="background:#9575CD;" ng-click="newGroupColor='#9575CD'"></div>
                        <div style="background:#7986CB;" ng-click="newGroupColor='#7986CB'"></div>
                        <div style="background:#81D4FA;" ng-click="newGroupColor='#81D4FA'"></div>
                        <div style="background:#4DD0E1;" ng-click="newGroupColor='#4DD0E1'"></div>
                        <div style="background:#4DB6AC;" ng-click="newGroupColor='#4DB6AC'"></div>
                        <div style="background:#D4E157;" ng-click="newGroupColor='#D4E157'"></div>
                        <div style="background:#FFF176;" ng-click="newGroupColor='#FFF176'"></div>
                        <div style="background:#FFD54F;" ng-click="newGroupColor='#FFD54F'"></div>
                        <div style="background:#FFA726;" ng-click="newGroupColor='#FFA726'"></div>
                        <div style="background:#FD8964;" ng-click="newGroupColor='#FD8964'"></div>
                        <div style="background:#BDBDBD;" ng-click="newGroupColor='#BDBDBD'"></div>
                        <div style="background:#90A4AE;" ng-click="newGroupColor='#90A4AE'"></div>
                    </div>    
                    <br><br>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" ng-click="ok()">OK</button>
                    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                </div>
            </div>
        </script>
                    
        <script type="text/ng-template" id="addGroup.html">

                <div class="modal-header">
                    <h3 class="modal-title">Add a Group</h3>
                </div>
                <div class="modal-body">
                    <input type="text" ng-model="newGroupName" placeholder="Enter Group Name" ng-disabled="newGroupCode.length > 0">
                    <br><br>
                    <input type="text" ng-model="newGroupCode" placeholder="Enter A Group Code" ng-disabled="newGroupName.length > 0">
                    <br><br>
                    <label for="groupColor">Select a Color</label>   
                    <div id="groupColorSelect">
                        <div style="background:#B9F5FF;" ng-click="groupColor='#B9F5FF'"></div>
                        <div style="background:#B5FBA3;" ng-click="groupColor='#B5FBA3'"></div>
                        <div style="background:#FFA6B1;" ng-click="groupColor='#FFA6B1'"></div>
                        <div style="background:#FEC12F;" ng-click="groupColor='#FEC12F'"></div>
                        <div style="background:#F06292;" ng-click="groupColor='#F06292'"></div>
                        <div style="background:#CE93D8;" ng-click="groupColor='#CE93D8'"></div>
                        <div style="background:#9575CD;" ng-click="groupColor='#9575CD'"></div>
                        <div style="background:#7986CB;" ng-click="groupColor='#7986CB'"></div>
                        <div style="background:#81D4FA;" ng-click="groupColor='#81D4FA'"></div>
                        <div style="background:#4DD0E1;" ng-click="groupColor='#4DD0E1'"></div>
                        <div style="background:#4DB6AC;" ng-click="groupColor='#4DB6AC'"></div>
                        <div style="background:#D4E157;" ng-click="groupColor='#D4E157'"></div>
                        <div style="background:#FFF176;" ng-click="groupColor='#FFF176'"></div>
                        <div style="background:#FFD54F;" ng-click="groupColor='#FFD54F'"></div>
                        <div style="background:#FFA726;" ng-click="groupColor='#FFA726'"></div>
                        <div style="background:#FD8964;" ng-click="groupColor='#FD8964'"></div>
                        <div style="background:#BDBDBD;" ng-click="groupColor='#BDBDBD'"></div>
                        <div style="background:#90A4AE;" ng-click="groupColor='#90A4AE'"></div>
                    </div>    
                    <br><br><br>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" ng-click="ok()">OK</button>
                    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                </div>
        </script>
    </body>
</html>
